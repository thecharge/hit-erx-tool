<div ng-show="error === null">
    <div ng-show="data != null" class="" style="margin:10px">
        <accordion close-others="true">
            <accordion-group panel-class="panel-info" is-open="status[data.stage]">
                <accordion-heading>
                    <i class="fa"
                       ng-class="{'fa-caret-down': status[data.stage], 'fa-caret-right': !status[data.stage]}"></i>
                    {{data.title}}
                </accordion-heading>


                <button ng-show="data.stage != 'CF'" title="Download Complete TestCase" type="button"
                        class="btn btn-sm btn-primary"
                        ng-click="downloadCompleteTestPackage(data.stage)">
                    <i class="fa fa-check-circle"></i>
                    Download Complete TestPackage (.zip)
                </button>

                <button title="Download Example Messages" type="button" class="btn btn-sm btn-primary"
                        ng-click="downloadExampleMessages(data.stage)">
                    <i class="fa fa-check-circle"></i>
                    Download Example Messages (.zip)
                </button>

                <br/>
                <br/>

                <div class="container-doc-testcase-tree ">
                    <table tt-table tt-params="params" class="table table-striped table-bordered table-condensed">
                        <thead class="tbl-header">
                        <tr>
                            <th>Test Case Name</th>
                            <th>Test Story</th>
                            <th>Message Content</th>
                            <th>Test Data Specification</th>
                            <th>Juror Document</th>
                            <th>Test Package</th>
                            <th>Example Message</th>
                            <th>Conformance Profile</th>
                            <th>ValueSet Library</th>
                        </tr>
                        </thead>
                        <tbody class=""></tbody>
                    </table>
                </div>
            </accordion-group>
        </accordion>
    </div>
</div>
<div ng-show="error !== null">
    <div class="alert alert-danger" role="alert" ng-bind="error"></div>
</div>

<script type="text/ng-template" id="TestCaseDocumentationNode.html">
    <tr tt-node
        is-branch="node.children != null && node.children.length > 0">
        <td>
            <span style="white-space: nowrap">{{ node.title }} </span>
        </td>
        <td>
            <span ng-if="!node.tsPath ||node.tsPath === null">-</span>
            <a ng-if="node.tsPath != null" ng-click="downloadArtifact(node.tsPath,node.title)">Test_Story.pdf</a>
        </td>

        <td>
            <span ng-if="!node.mcPath || node.mcPath === null">-</span>
            <a ng-if="node.mcPath != null" class="point" ng-click="downloadArtifact(node.mcPath,node.title)">Message_Content.pdf</a>
        </td>
        <td>
            <span ng-if="!node.tdsPath ||node.tdsPath === null">-</span>
            <a ng-if="node.tdsPath != null" class="point" ng-click="downloadArtifact(node.tdsPath,node.title)">Test_Data_Specification.pdf</a>
        </td>
        <td>
            <span ng-if="!node.jdPath ||node.jdPath === null">-</span>
            <a ng-if="node.jdPath != null" class="point" ng-click="downloadArtifact(node.jdPath,node.title)">Juror_Document.pdf</a>
        </td>

        <td>
            <span ng-if="!node.tpPath || node.tpPath === null">-</span>
            <a ng-if="node.tpPath != null" class="point" ng-click="downloadArtifact(node.tpPath,node.title)">Test_Package.pdf</a>
        </td>

        <td>
            <span ng-if="!node.exMsgPresent">-</span>
            <a ng-if="node.exMsgPresent" class="point" ng-click="downloadMessage(node)">Message.txt</a>
        </td>

        <td>
            <span ng-if="!node.xmlConfProfilePresent">-</span>
            <a ng-if="node.xmlConfProfilePresent && (node.format === 'hl7v2' || node.format === 'edi')" class="point"
               ng-click="downloadProfile(node)">Profile.json</a>
        </td>
        <td>
            <span ng-if="!node.xmlValueSetLibraryPresent">-</span>
            <a ng-if="node.xmlValueSetLibraryPresent && (node.format === 'hl7v2' || node.format === 'edi')"
               class="point" ng-click="downloadValueSetLib(node)">ValueSetLibrary.json</a>
        </td>

    </tr>
</script>
