<div ng-show="validationResult !== null">
    <tabset>
        <tab ng-click="showValidationTable(validationResult.errors.categories[0],'errors')" active="active.errors">
            <tab-heading>
                <input type="checkbox"
                       ng-click="showFailures('errors', validationResult.errors.categories[0], $event)"
                        >
                <span class="badge failure failure-errors"
                      ng-bind="validationResult.errors.categories[0].data.length"></span>
                Errors
            </tab-heading>

            <tabset>
                <tab ng-repeat="category in validationResult.errors.categories" class="validation-result-subtab"
                     active="subActive.errors[category.title]"
                     ng-click="showValidationTable(category,'errors')">
                    <tab-heading>
                        <input type="checkbox"
                               ng-click="showFailures('errors',category, $event)"
                                >
                        <span class="badge failure failure-errors" ng-bind="category.data.length"></span>
                        {{category.title}}
                    </tab-heading>
                </tab>
            </tabset>
        </tab>

        <tab ng-click="showValidationTable(validationResult.warnings.categories[0],'warnings')"
             active="active.warnings">
            <tab-heading>
                <input type="checkbox"
                       ng-click="showFailures('warnings',validationResult.warnings.categories[0], $event)"
                        >
        <span class="badge failure failure-warnings"
              ng-bind="validationResult.warnings.categories[0].data.length"></span> Warnings
            </tab-heading>

            <tabset>
                <tab ng-repeat="category in validationResult.warnings.categories" class="validation-result-subtab"
                     active="subActive.warnings[category.title]"
                     ng-click="showValidationTable(category,'warnings')">
                    <tab-heading>
                        <input type="checkbox"
                               ng-click="showFailures('warnings',category, $event)"
                                >
                        <span class="badge failure failure-warnings" ng-bind="category.data.length"></span>
                        {{category.title}}
                    </tab-heading>
                </tab>
            </tabset>
        </tab>
        <tab ng-click="showValidationTable(validationResult.alerts.categories[0],'alerts')" active="active.alerts">
            <tab-heading>
                <input type="checkbox"
                       ng-click="showFailures('alerts',validationResult.alerts.categories[0], $event)"
                        >
                <span class="badge failure failure-alerts"
                      ng-bind="validationResult.alerts.categories[0].data.length"></span>
                Alerts
            </tab-heading>

            <tabset>
                <tab ng-repeat="category in validationResult.alerts.categories" class="validation-result-subtab"
                     active="subActive.alerts[category.title]"
                     ng-click="showValidationTable(category,'alerts')">
                    <tab-heading>
                        <input type="checkbox"
                               ng-click="showFailures('alerts',category, $event)"
                                >
                        <span class="badge failure failure-alerts" ng-bind="category.data.length"></span>
                        {{category.title}}
                    </tab-heading>
                </tab>
            </tabset>
        </tab>
        <!--<tab ng-if="validationResult.dqa && validationResult.dqa  != null" ng-click="showValidationTable(validationResult.dqa.categories[0].data)">-->
        <!--<tab-heading>-->
        <!--<span class="badge failure failure-dqa"-->
        <!--ng-bind="validationResult.dqa.categories[0].data.length"></span>-->
        <!--DQA-->
        <!--</tab-heading>-->
        <!--<tabset>-->
        <!--<tab ng-repeat="category in validationResult.dqa.categories" class="validation-result-subtab" active="category.title === 'All'"-->
        <!--ng-click="showValidationTable(category.data)">-->
        <!--<tab-heading>-->
        <!--<span class="badge failure failure-dqa" ng-bind="category.data.length"></span>-->
        <!--{{category.title}}-->
        <!--</tab-heading>-->
        <!--</tab>-->
        <!--</tabset>-->
        <!--</tab>-->
    </tabset>
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="container-validation-table">
                <div validation-result-table></div>
            </div>
        </div>
    </div>

</div>

<div ng-show="validationResult === null" style="text-align:center">
    No Validation Performed.
</div>

<script type="text/ng-template" id="ValidationResultDetailsCtrl.html">
    <div class="modal-header modal-wide">
        <h3 class="modal-title" ng-bind="selectedElement.path"></h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <h4>StackTrace</h4>
            <pre>
                {{selectedElement.stackTrace | json}}
            </pre>
            <br/>
            <h4>MetaData</h4>
            <pre>
                {{selectedElement.metaData | json}}
            </pre>
        </div>
    </div>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="ok()">Close</button>
    </div>
</script>